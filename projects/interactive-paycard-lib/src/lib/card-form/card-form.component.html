<div class="card-form">
    <div class="card-list">
      <card 
      [cardModel]="cardModel" 
      [isCardNumberMasked]="isCardNumberMasked"
      [isCardFlipped]="isCvvFocused"
      [chipImgPath] = "chipImgPath"
      [logoImgPath] = "logoImgPath"
      ></card>
    </div>
    <div class="card-form__inner">
      <div class="card-input">
        <label for="cardNumber" class="card-input__label">Card Number</label>
        <input 
        class="card-input__input" 
        type="tel" 
        [id]="cardNumberId"
        [attr.maxlength]="cardNumberMaxLength"
        [value]="displayedCardNumber" 
        (input)="onCardNumberChange($event)"
        (focus)="onCardNumberFocus()"
        (blur)="onCardNumberBlur()"
        autocomplete="off"
        />
        <button 
          [ngClass]="isCardNumberMasked ? 'card-input__eye':'card-input__eye -active'"
          title="Show/Hide card number"
          tabindex="-1"
          [disabled]="displayedCardNumber===''"
          (click)="onToggleCardNumberMask()"
        ></button>
      </div>
      <div class="card-input" >
        <label for="cardName" class="card-input__label">Card Name</label>
        <input class="card-input__input"
          type="text"
          [id]="cardNameId"
          [(ngModel)]="cardModel.cardName" 
          (keyup)='onCardNameKeyPress($event)'
          autocomplete="off"
        />
      </div>
      <div class="card-form__row">
        <div class="card-form__col">
          <div class="card-form__group">
            <label for="cardMonth" class="card-input__label">Expiration Date</label>
            <select 
              class="card-input__input -select"
              id="monthSelect"
              [(ngModel)]="cardModel.expirationMonth"
            >
              <option value disabled selected>Month</option>
              <option *ngFor="let element of [].constructor(12); let i = index"
                [value]="(i+1) < 10 ? '0' + (i+1) : (i+1)"
                [disabled]="(i+1) < minCardMonth()">
                {{generateMonthValue((i+1))}}
              </option>
            </select>
            <select 
              class="card-input__input -select"
              [id]="yearSelectId"
              [(ngModel)]="cardModel.expirationYear"
              (change)="onYearChange()"
            >
              <option value disabled selected>Year</option>
              <option
                *ngFor="let element of [].constructor(12); let i = index"
                [value]="minCardYear + i"
              >{{i + minCardYear}}
                </option>
            </select>
          </div>
        </div>
        <div class="card-form__col -cvv">
          <div class="card-input">
            <label for="cardCvv" class="card-input__label">CVV</label>
            <input 
              class="card-input__input"
              type="tel"
              id="cardCvvId"
              [maxlength]="4"
              [(ngModel)]="cardModel.cvv"
              autocomplete="off"
              onlyNumbers
              (blur)="onCvvBlur()" 
              (focus)="onCvvFocus()"
            />
          </div>
        </div>
      </div>
      <button class="card-form__button" v-on:click="invaildCard">Submit</button>
    </div>
  </div>